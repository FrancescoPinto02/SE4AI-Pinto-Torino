schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data_ingestion.py
    deps:
    - path: .env
      hash: md5
      md5: 2e0fd11e8a741623c932e9fd6ca6ae4b
      size: 539
    - path: config/ingestion.yaml
      hash: md5
      md5: 786de7b904c7ba3945f2d09b71f166c0
      size: 252
    - path: src/data_ingestion.py
      hash: md5
      md5: 3bce48e72a7967fdb8f2525d50bb3a14
      size: 2696
    - path: src/utils/log_config.py
      hash: md5
      md5: 1c0c4b67188e051dbb2cb7927a18e8a9
      size: 943
    outs:
    - path: data/raw/games.csv
      hash: md5
      md5: 7fc2f550c8d248e25c7b05263ef5b74b
      size: 7279124
    - path: data/raw/reviews.csv
      hash: md5
      md5: 7184022475d653e9961c1e82d6e95e30
      size: 115914758
  preprocess_lightFM:
    cmd: python src/data/lightfm/preprocess_lightfm.py
    deps:
    - path: data/raw/games.csv
      hash: md5
      md5: 0ed65f5388c5f2db26074a03830c0a8b
      size: 7297388
    - path: data/raw/reviews.csv
      hash: md5
      md5: 7ae6fb3ab6385bf5db522bbd4878f670
      size: 115913820
    - path: src/data/lightfm/preprocess_lightfm.py
      hash: md5
      md5: d9c154cfe26ded4bbde4404d61203985
      size: 3436
    outs:
    - path: data/processed/lightfm/interactions.npz
      hash: md5
      md5: c60a9578d8c81b84460b29f77d26412d
      size: 491828
    - path: data/processed/lightfm/item_features.npz
      hash: md5
      md5: 71218784655567d825b626b9c7fdc7ce
      size: 21183
  preprocess_surprise_SVD:
    cmd: python src/data/surpriseSVD/preprocess_surprise_SVD.py
    deps:
    - path: data/raw/reviews.csv
      hash: md5
      md5: 7ae6fb3ab6385bf5db522bbd4878f670
      size: 115913820
    - path: src/data/surpriseSVD/preprocess_surprise_SVD.py
      hash: md5
      md5: 7216a520e057667454fabd24881ee33e
      size: 609
    outs:
    - path: data/processed/surpriseSVD/reviews_clean.csv
      hash: md5
      md5: 8e2ee927579fd01d070dff66f441073d
      size: 8350842
  train_surprise_SVD:
    cmd: python src/models/surpriseSVD/train_surprise_SVD.py
    deps:
    - path: data/processed/surpriseSVD/reviews_clean.csv
      hash: md5
      md5: 8e2ee927579fd01d070dff66f441073d
      size: 8350842
    - path: src/models/surpriseSVD/train_surprise_SVD.py
      hash: md5
      md5: 1f31e631761a0733ddbba4ff9d21eeb8
      size: 3605
    outs:
    - path: models/svd_best_params.txt
      hash: md5
      md5: c567da8da7a39b4f4bdfd6f1d108a9d1
      size: 51
    - path: models/svd_model.pkl
      hash: md5
      md5: 9106ff2cbbc2cb8b72ff3a8745a86555
      size: 14553699
  data_split_leave_last:
    cmd: python src/data/SVD/split_leave_last.py
    deps:
    - path: data/raw/reviews.csv
      hash: md5
      md5: 7ae6fb3ab6385bf5db522bbd4878f670
      size: 115913820
    - path: src/data/SVD/split_leave_last.py
      hash: md5
      md5: c0adb1c4f276c12f09868a5f6c340125
      size: 1177
    outs:
    - path: data/processed/SVD/test.csv
      hash: md5
      md5: 7d019f7bcd2a3844ddcdacece8d2a628
      size: 8078529
    - path: data/processed/SVD/train.csv
      hash: md5
      md5: 79110ab6cf5c7ee20b8e1c495fe9cdc9
      size: 107751246
  data_preprocess:
    cmd: python src/data/SVD/preprocess.py
    deps:
    - path: data/processed/SVD/test.csv
      hash: md5
      md5: 7d019f7bcd2a3844ddcdacece8d2a628
      size: 8078529
    - path: data/processed/SVD/train.csv
      hash: md5
      md5: 79110ab6cf5c7ee20b8e1c495fe9cdc9
      size: 107751246
    - path: src/data/SVD/preprocess.py
      hash: md5
      md5: c3da5f49c38e9d39bffd11b8473dd993
      size: 1018
    outs:
    - path: data/processed/SVD/test_ready.csv
      hash: md5
      md5: a1e2f0e8145bcc2a2d5bc18fe7d5791c
      size: 558106
    - path: data/processed/SVD/train_ready.csv
      hash: md5
      md5: ac5718ceacebe712a18759324dbad35c
      size: 7917106
  preprocess_data_SVD:
    cmd: python src/SVD/preprocess.py
    deps:
    - path: data/raw/reviews.csv
      hash: md5
      md5: 7cd0cfaf0469f0d2455e81eb72d260c7
      size: 115914758
    - path: src/SVD/preprocess.py
      hash: md5
      md5: 534cb9c216314951df64475c01e8f386
      size: 1336
    outs:
    - path: data/processed/SVD/ratings.csv
      hash: md5
      md5: 8ddd34c605b6fdb5b3f462b6019331f8
      size: 8118847
  train_SVD:
    cmd: python src/SVD/train.py
    deps:
    - path: config/SVD/params.yaml
      hash: md5
      md5: db9c82fd2d6491c3dc4a3ae75892c0d9
      size: 74
    - path: config/SVD/train.yaml
      hash: md5
      md5: f2b216979e3bf9632f647a4acdb2cb94
      size: 189
    - path: data/processed/SVD/test.csv
      hash: md5
      md5: 6533b139f8f9fcea9e06b66ee9f63664
      size: 558107
    - path: data/processed/SVD/train.csv
      hash: md5
      md5: 55b3ea58ec5bea53782e4a7e4b009c11
      size: 7560762
    - path: src/SVD/train.py
      hash: md5
      md5: 77e522adb4fbb777600915a00bb0f8fb
      size: 4691
    outs:
    - path: models/svd_model.pkl
      hash: md5
      md5: dcf8e73e8a2f31a2f5ff356a09791d8a
      size: 15236147
  tune_SVD:
    cmd: python src/SVD/tune.py
    deps:
    - path: config/SVD/tune.yaml
      hash: md5
      md5: d1781604bfc3405ceedf21f4abc1d43a
      size: 181
    - path: data/processed/SVD/train.csv
      hash: md5
      md5: 55b3ea58ec5bea53782e4a7e4b009c11
      size: 7560762
    - path: src/SVD/tune.py
      hash: md5
      md5: e390031ff376bd89b66c9935dc510eb6
      size: 4293
    outs:
    - path: config/SVD/params.yaml
      hash: md5
      md5: db9c82fd2d6491c3dc4a3ae75892c0d9
      size: 74
  preprocess_SVD:
    cmd: python src/SVD/preprocess.py
    deps:
    - path: config/SVD/preprocess.yaml
      hash: md5
      md5: a11aa64170700539b3d6db7cbb8dda20
      size: 212
    - path: data/raw/reviews.csv
      hash: md5
      md5: 7184022475d653e9961c1e82d6e95e30
      size: 115914758
    - path: src/SVD/preprocess.py
      hash: md5
      md5: 474aee212a446415e86a7f4e4deb45dc
      size: 2996
    outs:
    - path: data/processed/SVD/test.csv
      hash: md5
      md5: 6533b139f8f9fcea9e06b66ee9f63664
      size: 558107
    - path: data/processed/SVD/train.csv
      hash: md5
      md5: 55b3ea58ec5bea53782e4a7e4b009c11
      size: 7560762
